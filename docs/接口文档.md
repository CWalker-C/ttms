## 接口目录<br>
1. 用户注册
2. 用户登录
3.  用户退出登录
4. 管理员添加影片
5. 管理员添加影厅
6. 管理员查询已安排电影
7. 管理员安排播放影片

----
##接口文档

###1.用户注册

接口地址: 47.100.6.42/ttms/public/index.php/index/user/register

请求类型: Post

Content-Type: application/x-www-form-urlencoded

接口参数:
<table>
	<tr>
		<tr>
			<td><center>参数名称<center></td>
			<td><center>参数说明</center></td>
			<td><center>参数类型</center></td>
			<td><center>必须</center></td>
			<td><center>备注</center></td>
		</tr>
		<tr>
			<td>customer_name</td>
			<td>顾客昵称</td>
			<td>字符串</td>
			<td>T</td>
			<td>-</td>
		</tr>
		<tr>
			<td>customer_passwd</td>
			<td>顾客密码</td>
			<td>字符串</td>
			<td>T</td>
			<td>6~16为位</td>
		</tr>
		<tr>
			<td>customer_email</td>
			<td>顾客邮箱/登录名</td>
			<td>字符串</td>
			<td>T</td>
			<td>邮箱格式</td>
		</tr>
		<tr>
			<td>customer_mobile</td>
			<td>顾客手机号</td>
			<td>字符串</td>
			<td>T</td>
			<td>11位</td>
		</tr>	
	<tr>
</table>


返回参数:

<table>
	<tr>
		<tr>
			<td><center>字段名</center></td>
			<td><center>描述</center></td>
		</tr>
		<tr>
			<td>status</td>
			<td>返回状态，0表示注册成功，1表示注册失败</td>
		</tr>
		<tr>
			<td>msg</td>
			<td>注册成功返回:<br>&emsp;&emsp;空字符串；<br>
				注册失败返回:<br>
				&emsp;&emsp;数据不合法：提示数据不合法的具体原因<br>
				&emsp;&emsp;用户已存在：The user has already existed<br>
				&emsp;&emsp;其他错误：the server is busy now
			</td>
		</tr>
		<tr>
			<td>data</td>
			<td>注册成功返回：<br>
				&emsp;&emsp;用户昵称:user_name<br>
				&emsp;&emsp;用户邮箱:user_email<br>
				&emsp;&emsp;用户权限:authority(0为普通用户，1为管理员)<br>
				注册失败返回:<br>
				&emsp;&emsp;空字符
			</td>
		</tr>
	</tr>
</table>

----

###2.用户登录

接口地址: 47.100.6.42/ttms/public/index.php/index/user/login

请求类型: Post

Content-Type: application/x-www-form-urlencoded

接口参数:
<table>
	<tr>
		<tr>
			<td><center>参数名称</center></td>
			<td><center>参数说明</center></td>
			<td><center>参数类型</center></td>
			<td><center>必须</center></td>
			<td><center>备注</center></td>
		</tr>
		<tr>
			<td>customer_email</td>
			<td>顾客邮箱/登录名</td>
			<td>字符串</td>
			<td>T</td>
			<td>邮箱格式</td>
		</tr>	
		<tr>
			<td>customer_passwd</td>
			<td>顾客密码</td>
			<td>字符串</td>
			<td>T</td>
			<td>6~16为位</td>
		</tr>		
	<tr>
</table>

返回参数: <br>
<table>
	<tr>
		<td>字段名</td>
		<td><center>描述</center></td>
	</tr>
	<tr>
		<td>status</td>
		<td>返回状态，0表示登录成功，1表示登录失败</td>
	</tr>
	<tr>
		<td>msg</td>
		<td>登录成功返回：<br>&emsp;&emsp;空字符串<br>
			登录失败返回:<br>
			&emsp;&emsp;数据不合法：提示数据不合法的具体原因<br>
			&emsp;&emsp;用户不存在：the user doesn't exist<br>
			&emsp;&emsp;密码错误：the username or password is incorrect<br>
			&emsp;&emsp;其他错误：the server is busy now<br>
		</td>
	</tr>
	<tr>
		<td>data</td>
		<td>登录成功返回：<br>
			&emsp;&emsp;用户昵称:user_name<br>
			&emsp;&emsp;用户邮箱:user_email<br>
			&emsp;&emsp;用户权限:authority(0为普通用户，1为管理员)<br>
			登录失败返回:<br>
			&emsp;&emsp;空字符串</td>
	</tr>
</table>

##3. 用户退出登录

接口地址：47.100.6.42/ttms/public/index.php/index/user/logout

请求类型:Post

Content-Type: application/x-www-form-urlencoded

接口参数:
<table>
	<tr>
		<tr>
			<td><center>参数名称</center></td>
			<td><center>参数说明</center></td>
			<td><center>参数类型</center></td>
			<td><center>必须</center></td>
			<td><center>备注</center></td>
		</tr>
		<tr>
			<td>-</td>
			<td>-</td>
			<td>-</td>
			<td>-</td>
			<td>-</td>
		</tr>	
	<tr>
</table>

返回参数:
<table>
	<tr>
		<td>字段名</td>
		<td><center>描述</center></td>
	</tr>
	<tr>
		<td>status</td>
		<td>返回状态，0表示登录成功，1表示登录失败</td>
	</tr>
	<tr>
		<td>msg</td>
		<td>-		</td>
	</tr>
	<tr>
		<td>data</td>
		<td>-</td>
	</tr>
</table>

##4. 添加影片

接口地址：47.100.6.42/ttms/public/index.php/admin/movie/addmovie

请求类型:Post

Content-Type: application/x-www-form-urlencoded

接口参数:
<table>
	<tr>
		<tr>
			<td><center>参数名称</center></td>
			<td><center>参数说明</center></td>
			<td><center>参数类型</center></td>
			<td><center>必须</center></td>
			<td><center>备注</center></td>
		</tr>
		<tr>
			<td>movie_name</td>
			<td>影片名</td>
			<td>字符串</td>
			<td>T</td>
			<td>-</td>
		</tr>
		<tr>
			<td>movie_main_actor</td>
			<td>影片主演</td>
			<td>字符串</td>
			<td>T</td>
			<td>-</td>
		</tr>
		<tr>
			<td>movie_director</td>
			<td>影片导演</td>
			<td>字符串</td>
			<td>T</td>
			<td>-</td>
		</tr>
		<tr>
			<td>movie_duration</td>
			<td>影片时长</td>
			<td>字符串</td>
			<td>T</td>
			<td>-</td>
		</tr>
		<tr>
			<td>movie_pic</td>
			<td>电影图片地址</td>
			<td>字符串</td>
			<td>T</td>
			<td>-</td>
		</tr>
		<tr>
			<td>movie_description</td>
			<td>影片简介</td>
			<td>字符串</td>
			<td>T</td>
			<td>-</td>
		</tr>
	<tr>
</table>

返回参数:

<table>
	<tr>
		<td>字段名</td>
		<td><center>描述</center></td>
	</tr>
	<tr>
		<td>status</td>
		<td>返回状态，0表示添加影片成功，1表示添加影片失败</td>
	</tr>
	<tr>
		<td>msg</td>
		<td>登录成功返回:<br>
			&emsp;&emsp;空字符串；<br>
			登录失败返回:<br>
			&emsp;&emsp;用户没有登录：the user didn't log in<br>
			&emsp;&emsp;用户没有权限：user does not have enough permissions<br>
			&emsp;&emsp;数据不合法：数据不合法的具体原因<br>
			&emsp;&emsp;影片已存在：the movie has already existed<br>
			&emsp;&emsp;其他错误：the server is busy now<br>
		</td>
	</tr>
	<tr>
		<td>data</td>
		<td>登录成功返回：<br>
		&emsp;&emsp;电影名称: movie_name<br>
		&emsp;&emsp;电影主演: movie_main_actor<br>
		&emsp;&emsp;电影导演: movie_director<br>
		&emsp;&emsp;电影时长: movie_duration<br>
		&emsp;&emsp;电影图片地址: movie_pic<br>
		&emsp;&emsp;电影描述: movie_description<br>
		登录失败返回:<br>
		&emsp;&emsp;空字符串
	</tr>
</table>


###5.管理员添加影厅

接口地址：47.10.6.42/ttms/public/index.php/admin/hall/addhall

请求类型:Post

Content-Type: application/x-www-form-urlencoded

接口参数:
<table>
	<tr>
		<tr>
			<td>参数名称</td>
			<td>参数说明</td>
			<td>参数类型</td>
			<td>必须</td>
			<td>备注</td>
		</tr>
		<tr>
			<td>hall_name</td>
			<td>影厅名称</td>
			<td>字符串</td>
			<td>T</td>
			<td>-</td>
		</tr>
		<tr>
			<td>hall_seats</td>
			<td>影厅座位数</td>
			<td>字符串</td>
			<td>T</td>
			<td>-</td>
		</tr>
		<tr>
			<td>hall_description</td>
			<td>影厅简介</td>
			<td>字符串</td>
			<td>T</td>
			<td>-</td>
		</tr>	
	<tr>
</table>

返回参数:<br>
<table>
	<tr>
		<tr>
			<td><center>字段名<center></td>
			<td><center>描述</center></td>
		</tr>
		<tr>
			<td>status</td>
			<td>返回状态，0表示添加影厅成功，1表示添加影厅失败</td>
		</tr>
		<tr>
			<td>msg</td>
			<td>添加成功时返回：<br>
				&emsp;&emsp;空字符串<br>
				添加失败事返回：<br>
				&emsp;&emsp;用户没有登录：the user didn't log in<br>
				&emsp;&emsp;用户没有权限：user does not have enough permissions<br>
				&emsp;&emsp;数据不合法：返回数据不合法的具体原因
				&emsp;&emsp;其他错误：the server is busy now
			</td>
		</tr>
		<tr>
			<td>data</td>
			<td>添加成功时返回：<br>
				影厅名：hall_name<br>
				影厅座位总数：hall_seats<br>
				影厅描述：hall_description<br>
			</td>
		</tr>
	</tr>
</table>

###6.管理员查询已安排电影

接口地址：待开发
请求类型: Post

Content-Type: application/x-www-form-urlencoded

接口参数:
待开发

返回参数:
待开发


	
###7.管理员安排影片播放

接口地址：47.100.6.42/ttms/public/index.php/admin/schedule/addschedule

请求类型: Post

Content-Type: application/x-www-form-urlencoded

接口参数:
<table>
	<tr>
		<tr>
			<td>参数名称</td>
			<td>参数说明</td>
			<td>参数类型</td>
			<td>必须</td>
			<td>备注</td>
		</tr>
		<tr>
			<td>movie_name</td>
			<td>电影名称</td>
			<td>字符串</td>
			<td>T</td>
			<td>-</td>
		</tr>
		<tr>
			<td>schedule_begin_time</td>
			<td>电影开始时间</td>
			<td>时间戳</td>
			<td>T</td>
			<td>-</td>
		</tr>
		<tr>
			<td>hall_name</td>
			<td>演出厅名</td>
			<td>字符串</td>
			<td>T</td>
			<td>-</td>
		</tr>
		<tr>
			<td>schedule_price</td>
			<td>影片票价</td>
			<td>浮点型</td>
			<td>T</td>
			<td>-</td>
		</tr>	
	</tr>
</table>


返回参数:<br/>

<table>
	<tr>
		<tr>
			<td><center>字段值</center></td>
			<td><center>描述</center></td>
		</tr>
		<tr>
			<td>status</td>
			<td>返回状态，0表示安排影片成功，1表示安排影片失败</td>
		</tr>
		<tr>
			<td>msg</td>
			<td>成功返回：<br>
				&emsp;&emsp;空字符串<br>
				失败返回：<br>
				&emsp;&emsp;用户没有登录：the user didn\'t log in<br>
				&emsp;&emsp;用户没有权限：user does not have enough permissions<br>
				&emsp;&emsp;数据不合法：返回数据不合法的具体原因<br>
				&emsp;&emsp;时间冲突：the time you arrange is contradictory<br>
				&emsp;&emsp;时间过期(小于操作时的当前时间)：the time you &emsp;&emsp;arrange is overdue<br>
				&emsp;&emsp;其他错误：the server is busy now
			</td>
		</tr>
		<tr>
			<td>data</td>
			<td>成功返回：<br>
				&emsp;&emsp;电影名称：movie_name<br>
				&emsp;&emsp;电影开始时间：schedule_begin_time<br>
				&emsp;&emsp;影厅名称：hall_name<br>
				&emsp;&emsp;电影票价：schedule_price<br>
			</td>
		</tr>
	</tr>
</table>
